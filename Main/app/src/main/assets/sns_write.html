<!DOCTYPE html>
<html>
<head>
    <meta charset = "UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>write</title>


    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>

    <script>
            $(function(){
                $("#header").load("sns_main.html #td");
            })

            function commit(){
                var title_name = document.getElementById("title_bar");
                var main_txt = document.getElementById("m_txt");
                var uppic = document.getElementById("picture");

                if(title_name.value.length == 0){
                    alert("제목 넣어주세요!");
                } else {
                    if(uppic.files.length == 0 && main_txt.value.length == 0){
                        alert("그림이나 글이 넣어져야 됩니다!");
                    } else{
                        var parentId = document.getElementById("header");
                        var copy = parentId.cloneNode(false);
                        document.body.appendChild(copy);
                        location.href = "sns_main.html";
                    }
                }
            }

        </script>

    <style>
            section {
                width: 92%;
                height: auto;
                position:absolute;
                padding-left:5%;
                padding-top:5%;
            }

            .text_box input{
                left: 120%;
            }
        </style>
</head>


<body>
<header class = "home">
    <a href = "sns_main.html" style = "-webkit-tap-highlight-color:  rgba(255, 255, 255, 0)">
        <img alt="drawing of a cat" src = "file:///android_res/drawable/back.png" style = "width:10%; height:auto; padding-left: 5%;"></a>
</header>
<section style = "border-top: 1px solid #AAA">
    <form enctype = "multipart/form-data">
        <input type = "text" size="50%" id = "title_bar" placeholder="제목을 입력해주세요" style="width: 93.5%; border: none; border-bottom: 1px solid #3f3f3f;
                font-size:150%; outline: none; margin-bottom: 10%; margin-top: 5%;"><br>
        그림첨부 : <input type="file" aria-label = "파일" id = "picture" accept="image/*" (change)="getFile($event)" /> <br> <br>
        <textarea id = "m_txt" aria-label="text" rows = "20" cols = "80" style="width: 84%; padding-left: 5%; padding-top: 5%; margin-top: 2%; padding-right: 5%; padding-bottom: 5%;"></textarea>
    </form>
    <button onclick = "commit()" style="text-align: center; margin-top: 2%; margin-left: 76%; text-align: center; background-color: #FFF; color: #3f3f3f;
            border: 1px solid #3f3f3f; border-radius: 10%; padding: 1% 3% 1% 3%; font-size: 150%;">등록</button>
    <div id = header></div>
</section>
</body>
</html>